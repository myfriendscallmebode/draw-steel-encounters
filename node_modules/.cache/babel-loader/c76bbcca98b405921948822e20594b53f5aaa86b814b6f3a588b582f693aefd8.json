{"ast":null,"code":"var _jsxFileName = \"/Users/aaronbode/Development/projects/encounter_builder/encounter-builder/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { calculateEncounterStrength, determineEncounterDifficulty } from './utils/encounterCalculations';\nimport { monsters } from './data/monsters';\nimport { PartyInput } from './components/PartyInput';\nimport { MonsterSearch } from './components/MonsterSearch';\nimport { EncounterDisplay } from './components/EncounterDisplay';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [party, setParty] = useState({\n    heroCount: 4,\n    heroLevel: 3,\n    victories: 0,\n    encounterStrength: 0\n  });\n  const [encounter, setEncounter] = useState({\n    creatures: [],\n    totalEV: 0,\n    difficulty: 'trivial'\n  });\n\n  // Calculate encounter strength whenever party changes\n  useEffect(() => {\n    const newES = calculateEncounterStrength(party);\n    setParty(prev => ({\n      ...prev,\n      encounterStrength: newES\n    }));\n  }, [party]);\n\n  // Calculate encounter difficulty whenever encounter changes\n  useEffect(() => {\n    const newDifficulty = determineEncounterDifficulty(party.encounterStrength, encounter.totalEV, party.heroLevel);\n    setEncounter(prev => ({\n      ...prev,\n      difficulty: newDifficulty\n    }));\n  }, [encounter.totalEV, party.encounterStrength, party.heroLevel]);\n  const handleAddMonster = monster => {\n    setEncounter(prev => {\n      const existingIndex = prev.creatures.findIndex(c => c.monster.id === monster.id);\n      if (existingIndex >= 0) {\n        // Update quantity of existing monster\n        const updatedCreatures = [...prev.creatures];\n        const quantityToAdd = monster.organization === 'minion' ? 4 : 1;\n        updatedCreatures[existingIndex] = {\n          ...updatedCreatures[existingIndex],\n          quantity: updatedCreatures[existingIndex].quantity + quantityToAdd\n        };\n        const newTotalEV = updatedCreatures.reduce((sum, c) => sum + c.monster.encounterValue * c.quantity, 0);\n        return {\n          ...prev,\n          creatures: updatedCreatures,\n          totalEV: newTotalEV\n        };\n      } else {\n        // Add new monster\n        const quantityToAdd = monster.organization === 'minion' ? 4 : 1;\n        const newCreature = {\n          monster,\n          quantity: quantityToAdd\n        };\n        const newTotalEV = prev.totalEV + monster.encounterValue * quantityToAdd;\n        return {\n          ...prev,\n          creatures: [...prev.creatures, newCreature],\n          totalEV: newTotalEV\n        };\n      }\n    });\n  };\n  const handleRemoveCreature = index => {\n    setEncounter(prev => {\n      const creature = prev.creatures[index];\n      const newTotalEV = prev.totalEV - creature.monster.encounterValue * creature.quantity;\n      const newCreatures = prev.creatures.filter((_, i) => i !== index);\n      return {\n        ...prev,\n        creatures: newCreatures,\n        totalEV: newTotalEV\n      };\n    });\n  };\n  const handleUpdateQuantity = (index, quantity) => {\n    setEncounter(prev => {\n      const updatedCreatures = [...prev.creatures];\n      const creature = updatedCreatures[index];\n      const oldTotal = creature.monster.encounterValue * creature.quantity;\n      const newTotal = creature.monster.encounterValue * quantity;\n      updatedCreatures[index] = {\n        ...creature,\n        quantity\n      };\n      const newTotalEV = prev.totalEV - oldTotal + newTotal;\n      return {\n        ...prev,\n        creatures: updatedCreatures,\n        totalEV: newTotalEV\n      };\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 text-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold text-white mb-2\",\n          children: \"Draw Steel Encounter Builder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400\",\n          children: \"Build balanced encounters for your tabletop RPG\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(PartyInput, {\n          party: party,\n          onPartyChange: setParty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(MonsterSearch, {\n            monsters: monsters,\n            onAddMonster: handleAddMonster\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(EncounterDisplay, {\n            encounter: encounter,\n            party: party,\n            onRemoveCreature: handleRemoveCreature,\n            onUpdateQuantity: handleUpdateQuantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"1alTi+4Hw+tU3817Zkxt2BXi1bE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","calculateEncounterStrength","determineEncounterDifficulty","monsters","PartyInput","MonsterSearch","EncounterDisplay","jsxDEV","_jsxDEV","App","_s","party","setParty","heroCount","heroLevel","victories","encounterStrength","encounter","setEncounter","creatures","totalEV","difficulty","newES","prev","newDifficulty","handleAddMonster","monster","existingIndex","findIndex","c","id","updatedCreatures","quantityToAdd","organization","quantity","newTotalEV","reduce","sum","encounterValue","newCreature","handleRemoveCreature","index","creature","newCreatures","filter","_","i","handleUpdateQuantity","oldTotal","newTotal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onPartyChange","onAddMonster","onRemoveCreature","onUpdateQuantity","_c","$RefreshReg$"],"sources":["/Users/aaronbode/Development/projects/encounter_builder/encounter-builder/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Party, Encounter, EncounterCreature, Monster } from './types';\nimport { calculateEncounterStrength, determineEncounterDifficulty } from './utils/encounterCalculations';\nimport { monsters } from './data/monsters';\nimport { PartyInput } from './components/PartyInput';\nimport { MonsterSearch } from './components/MonsterSearch';\nimport { EncounterDisplay } from './components/EncounterDisplay';\nimport './App.css';\n\nfunction App() {\n  const [party, setParty] = useState<Party>({\n    heroCount: 4,\n    heroLevel: 3,\n    victories: 0,\n    encounterStrength: 0\n  });\n\n  const [encounter, setEncounter] = useState<Encounter>({\n    creatures: [],\n    totalEV: 0,\n    difficulty: 'trivial'\n  });\n\n  // Calculate encounter strength whenever party changes\n  useEffect(() => {\n    const newES = calculateEncounterStrength(party);\n    setParty(prev => ({ ...prev, encounterStrength: newES }));\n  }, [party]);\n\n  // Calculate encounter difficulty whenever encounter changes\n  useEffect(() => {\n    const newDifficulty = determineEncounterDifficulty(party.encounterStrength, encounter.totalEV, party.heroLevel);\n    setEncounter(prev => ({ ...prev, difficulty: newDifficulty }));\n  }, [encounter.totalEV, party.encounterStrength, party.heroLevel]);\n\n  const handleAddMonster = (monster: Monster) => {\n    setEncounter(prev => {\n      const existingIndex = prev.creatures.findIndex(c => c.monster.id === monster.id);\n      \n      if (existingIndex >= 0) {\n        // Update quantity of existing monster\n        const updatedCreatures = [...prev.creatures];\n        const quantityToAdd = monster.organization === 'minion' ? 4 : 1;\n        updatedCreatures[existingIndex] = {\n          ...updatedCreatures[existingIndex],\n          quantity: updatedCreatures[existingIndex].quantity + quantityToAdd\n        };\n        \n        const newTotalEV = updatedCreatures.reduce((sum, c) => sum + (c.monster.encounterValue * c.quantity), 0);\n        return {\n          ...prev,\n          creatures: updatedCreatures,\n          totalEV: newTotalEV\n        };\n      } else {\n        // Add new monster\n        const quantityToAdd = monster.organization === 'minion' ? 4 : 1;\n        const newCreature: EncounterCreature = {\n          monster,\n          quantity: quantityToAdd\n        };\n        \n        const newTotalEV = prev.totalEV + (monster.encounterValue * quantityToAdd);\n        return {\n          ...prev,\n          creatures: [...prev.creatures, newCreature],\n          totalEV: newTotalEV\n        };\n      }\n    });\n  };\n\n  const handleRemoveCreature = (index: number) => {\n    setEncounter(prev => {\n      const creature = prev.creatures[index];\n      const newTotalEV = prev.totalEV - (creature.monster.encounterValue * creature.quantity);\n      const newCreatures = prev.creatures.filter((_, i) => i !== index);\n      \n      return {\n        ...prev,\n        creatures: newCreatures,\n        totalEV: newTotalEV\n      };\n    });\n  };\n\n  const handleUpdateQuantity = (index: number, quantity: number) => {\n    setEncounter(prev => {\n      const updatedCreatures = [...prev.creatures];\n      const creature = updatedCreatures[index];\n      const oldTotal = creature.monster.encounterValue * creature.quantity;\n      const newTotal = creature.monster.encounterValue * quantity;\n      \n      updatedCreatures[index] = {\n        ...creature,\n        quantity\n      };\n      \n      const newTotalEV = prev.totalEV - oldTotal + newTotal;\n      \n      return {\n        ...prev,\n        creatures: updatedCreatures,\n        totalEV: newTotalEV\n      };\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <header className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-2\">Draw Steel Encounter Builder</h1>\n          <p className=\"text-gray-400\">Build balanced encounters for your tabletop RPG</p>\n        </header>\n\n        <div className=\"max-w-6xl mx-auto\">\n          <PartyInput party={party} onPartyChange={setParty} />\n          \n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <MonsterSearch monsters={monsters} onAddMonster={handleAddMonster} />\n            <EncounterDisplay\n              encounter={encounter}\n              party={party}\n              onRemoveCreature={handleRemoveCreature}\n              onUpdateQuantity={handleUpdateQuantity}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}